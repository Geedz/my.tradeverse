<!DOCTYPE html>
<html lang="en" style="font-family: Poppins">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Affiliazioni</title>
    <link rel="icon" type="image/x-icon" href="/assets/logo.png">
    <link href="styles/my-header.css" rel="stylesheet">
    <link href="styles/my-sidebar.css" rel="stylesheet">
    <link href="styles/general.css" rel="stylesheet">
    <link href="styles/affiliato.css" rel="stylesheet">
    <link href="styles/personal-area.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <header>
      <a href="index.html"><img class="tradeverse-topleft-my" src="assets/tradeverse-gradient.png"></a>
      <img src="assets/logo.png" class="logo-scritta">
      <div class="dropdown-container">
        <button id="account-btn" class="account-btn"></button>
        <div class="dropdown-content">
          <a id="logout-btn" href="#" class="dropdown-item" style="color: #fc8919; border-color: #fc8919;">Log out</a>
        </div>     
      </div>
    </header>
    <nav class="sidebar">
      <div class="pfp-container">
        <p class="pfp"></p>
      </div>
      <div class="tabs">
        <a href="index.html">
          <div class="side-container">
            <ion-icon name="home-outline"></ion-icon>
            <h2 class="sidetab-title">Dashboard</h2>
          </div>  
        </a>
        <a href="corsi.html">
          <div class="side-container">
          <ion-icon name="book-outline"></ion-icon>
          <h2 class="sidetab-title">Corsi</h2>
          </div>
        </a>
        <a href="https://syncverse.club"> 
          <div class="side-container">
            <ion-icon name="sync-circle-outline"></ion-icon>
            <h2 class="sidetab-title">SyncVerse</h2>
          </div>
        </a>
        <a href="liveroom.html">
          <div class="side-container">
            <ion-icon name="videocam-outline"></ion-icon>
            <h2 class="sidetab-title">Live Room</h2>
          </div>
        </a>
        <a href="eduverse.html">
          <div class="side-container">
          <ion-icon name="school-outline"></ion-icon>
          <h2 class="sidetab-title">EduVerse</h2>
          </div>
        </a>
        <a href="community.html">
          <div class="side-container">
            <ion-icon name="chatbox-ellipses-outline"></ion-icon>
            <h2 class="sidetab-title">Community</h2>
          </div>
        </a>
        <a href="affiliato.html">
          <div class="side-container">
            <ion-icon name="cash-outline"></ion-icon>
            <h2 class="sidetab-title">Affiliazione</h2>
          </div>  
        </a>
        <a href="supporto.html">
          <div class="side-container">
            <ion-icon name="information-outline"></ion-icon>
            <h2 class="sidetab-title">Supporto</h2>
          </div>  
        </a>
      </div>
    </nav>
    <main class="main">
      <div id="pos-alert" class="pos-alert">
        <div class="pos-alert-content">
          <ion-icon name="clipboard-outline"></ion-icon>
          <p class="alert" id="alert">Link Copiato con Successo</p>  
        </div>
      </div>
      <section class="aff-data">
        <div class="aff-data-container">
          <div onclick="window.location.href='profilo.html'" class="user-container">
            <div class="pfp-details">
              <div>
                <p class="pfp-secondary"></p>
              </div>
              <h2 id="user-name-surname"></h2>       
            </div>
            <div class="email-container">
              <p>Email:<span class="detail" id="email"></span></p>
              <p>Piano Attuale:<span class="detail" id="current_plan"></span></p>
              <p>Prossimo Rinnovo:<span class="detail" id="renewal_date"></span></p>
            </div>
          </div>
          <div id="aff-link-container" class="aff-link-container">
            <h2>Link Affiliato:</h2>
            <p id="aff-link"></p>
            <div id="hoverPopup" class="popup">Clicca per copiare il link!</div>
          </div>
        </div>
        <div class="dash-container-long">
          <div class="affiliate-info">
            <div class="invited-people">
              <h2>
                Persone invitate:
              </h2>
              <p class="affiliate-info-amount">
                <ion-icon name="people-outline"></ion-icon>
                <span id="affiliate-count"></span>
              </p>
              <span class="subtitle-detail">Affiliati</span>
            </div>
            <div class="vl"></div>
            <div class="affiliate-earnings">
              <h2>
                Guadagni dall'affiliazione:
              </h2>
              <p id="affiliate-earnings" class="affiliate-info-amount">
              </p>    
              <span class="subtitle-detail">Guadagnati</span>    
            </div>  
          </div>
        </div>
      </section>
      <section class="aff-table-container">
        <h2>Tabella Affiliati</h2>
        <table id="affiliates-table">
          <thead>
            <tr>
              <th onclick="sortTable('name', this)">Affiliato <ion-icon id="sort-icon-name" class="sort-icon" name="chevron-down-outline"></ion-icon></th>
              <th onclick="sortTable('email', this)">Email<ion-icon id="sort-icon-email" class="sort-icon" name="chevron-down-outline"></ion-icon></th>
              <th>Piano</th>
              <th onclick="sortTable('earnings', this)">Guadagni (â‚¬)<ion-icon id="sort-icon-earnings" class="sort-icon" name="chevron-down-outline"></ion-icon></th>
            </tr>
          </thead>
          <tbody id="affiliates-table-body">
              <!-- Table rows will be populated dynamically using JavaScript -->
          </tbody>
      </table>        
      <div id="pagination">
            <!-- Pagination buttons will be dynamically added here -->
      </div>  
      </section>
    </main>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>  
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="javascript/personal-area-protect.js"></script>    
    <script src="javascript/logout.js"></script>    
    <script src="javascript/header-update.js"></script>    
    <script src="javascript/affiliate-update.js"></script>  
    <script src="javascript/copytoclipboard.js"></script>
    <script src="javascript/hover-popup.js"></script>
    <script src="javascript/aff-table-populate.js"></script>
    <script src="javascript/sort-table.js"></script>
  </body>
</html>
